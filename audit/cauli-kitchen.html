<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cauli Kitchen | Profit Recovery</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0f172a; color: #f1f5f9; padding: 20px; }
        .card { background: #1e293b; padding: 25px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #334155; }
        h1 { color: #D4AF37; text-transform: uppercase; letter-spacing: 1px; margin-top: 0; }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-group label { display: block; font-size: 0.8rem; color: #94a3b8; margin-bottom: 5px; }
        input[type="range"] { width: 100%; accent-color: #D4AF37; }
        .money { font-size: 1.5rem; font-weight: bold; color: #2e7d32; }
        .highlight { color: #D4AF37; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card" style="text-align:center;">
        <h1>Cauli Kitchen Profit Audit</h1>
        <p style="color:#94a3b8; font-size:0.9rem;">Cloud Kitchen Margin Recovery Model</p>
    </div>

    <div class="card">
        <div class="input-group">
            <label>Est. Monthly Revenue: <span id="rev_val" class="highlight">$30,000</span></label>
            <input type="range" id="revenue" min="10000" max="60000" value="30000" step="1000" oninput="update()">
        </div>
        <br>
        <div class="input-group">
            <label>% Orders via Apps (Uber/DoorDash): <span id="app_val" class="highlight">80%</span></label>
            <input type="range" id="app_pct" min="0" max="100" value="80" oninput="update()">
        </div>
    </div>

    <div class="stat-grid">
        <div class="card" style="text-align:center; border-color:#ef4444;">
            <label>Legacy "App Tax" (30%)</label>
            <div id="lost_money" class="money" style="color:#ef4444;">$7,200</div>
            <small style="color:#94a3b8;">Money lost to commissions/mo</small>
        </div>
        <div class="card" style="text-align:center; border-color:#2e7d32;">
            <label>POSitive Rail Savings</label>
            <div id="saved_money" class="money" style="color:#2e7d32;">$2,400</div>
            <small style="color:#94a3b8;">If just 1/3 orders go Direct</small>
        </div>
    </div>

    <script>
        function update() {
            const rev = parseFloat(document.getElementById('revenue').value);
            const appPct = parseFloat(document.getElementById('app_pct').value) / 100;
            
            // Displays
            document.getElementById('rev_val').innerText = '$' + rev.toLocaleString();
            document.getElementById('app_val').innerText = (appPct * 100).toFixed(0) + '%';

            // Math: 30% commission on App orders
            const appVolume = rev * appPct;
            const lost = appVolume * 0.30;
            
            // Savings: If we convert 33% of those app orders to Direct (0% comm, 1% fee)
            const convertVol = appVolume * 0.33;
            const savings = (convertVol * 0.30) - (convertVol * 0.01);

            document.getElementById('lost_money').innerText = '$' + lost.toLocaleString(undefined, {maximumFractionDigits:0});
            document.getElementById('saved_money').innerText = '$' + savings.toLocaleString(undefined, {maximumFractionDigits:0});
        }
        update();
    </script>
</body>
</html>
